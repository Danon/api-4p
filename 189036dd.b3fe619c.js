(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{110:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return p}));var a=n(1),r=n(6),o=(n(0),n(137)),l=n(146),i={id:"login",title:"Acquire authorization token"},c={id:"login",title:"Acquire authorization token",description:"import Request from '../src/core/components/Request';\r",source:"@site/docs\\login.mdx",permalink:"/api-4p/docs/login",editUrl:"https://github.com/Danon/api-4p/edit/master/website/docs/login.mdx",sidebar:"someSidebar",previous:{title:"Style Guide",permalink:"/api-4p/docs/style"},next:{title:"Microblogs",permalink:"/api-4p/docs/microblogs"}},u=[],s={rightToc:u};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Perform a ",Object(o.b)("inlineCode",{parentName:"p"},"/login")," request to retrieve an authorization token."),Object(o.b)(l.a,{post:!0,url:"/login",parameters:{name:"user",password:"root"},mdxType:"Request"}))}p.isMDXComponent=!0},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));n(139);var a=n(138),r=n(135),o=n(5),l=n(0),i=n.n(l),c=n(153),u=n(154),s=n(244),p=n(253);function m(e){var t=i.a.useState("prod"),n=t[0],a=t[1];return i.a.useEffect((function(){return a(e.env)}),[e.env]),i.a.createElement(p.a,{value:n,onChange:function(t,n){n&&(a(n),e.onChange(n))},size:"small",exclusive:!0},i.a.createElement(s.a,{value:"local"},"Local"),i.a.createElement(s.a,{value:"dev"},"Dev"),i.a.createElement(s.a,{value:"prod"},"Prod"))}n(140),n(141);var d=n(158),h=n.n(d),f=n(93),v=n.n(f),g=function(e){var t=e.color,n=e.children;return i.a.createElement("div",{className:v.a.badge,style:{backgroundColor:t}},i.a.createElement("div",{className:v.a.wrapper},n))};n(12),n(52),n(142),n(143);function E(e){for(var t in e)return!0;return!1}var b=n(94),y=n.n(b),j=n(245),O=n(251),C=n(250),T=n(248),k=n(249),q=n(246);function w(e){var t=e.children,n=i.a.useState(!1),a=n[0],r=n[1],o=i.a.useRef(null);return i.a.useEffect((function(){if(a){var e=o.current;null!==e&&e.focus()}}),[a]),i.a.createElement("div",null,i.a.createElement(j.a,{onClick:function(){return r(!0)}},"Edit schema"),i.a.createElement(O.a,{open:a,onClose:function(){return r(!1)},scroll:"body","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},i.a.createElement(q.a,{id:"scroll-dialog-title"},"Resource schema"),i.a.createElement(T.a,{dividers:!1},i.a.createElement(k.a,{id:"scroll-dialog-description",ref:o,tabIndex:-1}),t),i.a.createElement(C.a,null,i.a.createElement(j.a,{onClick:function(){return r(!1)},color:"primary",disabled:!0},"Make a request"),i.a.createElement(j.a,{onClick:function(){return r(!1)},color:"primary"},"Cancel"))))}var N=n(156);n(157);function x(e,t){t=Object.assign({},t);var n=[];return[e=e.replace(/:([a-z]+)/g,(function(e,a){if(a in t){var r=t[a];return n.push(a),delete t[a],r}throw new Error("Missing replacement for '"+a+"'")})),t,n]}function S(e){return function(e,t){for(var n,a=[],r=Object(N.a)(t.matchAll(e));!(n=r()).done;){var o=n.value;a.push(o[1])}return a}(/:([a-z]+)/g,e)}var G=n(145),R=function(e){var t=e.children,n=e.language;return i.a.createElement(G.a,{className:"language-"+n},t)},P=function(e){var t=e.method,n=e.url,a=e.parameters,r=e.schema;return E(a)||E(r)?function(e){var t=e.parameters,n=e.suffix,a=e.schema;return i.a.createElement("table",{className:y.a.parameters},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"parameter"),i.a.createElement("th",null,"example value"))),i.a.createElement("tbody",null,Object.entries(t).map((function(e){var t=e[0],a=e[1];return i.a.createElement("tr",{key:t},i.a.createElement("td",null,M(n(t)),M(function(e){var t=typeof e;if("number"===t)return"int";return t}(a)),t),i.a.createElement("td",null,function(e){if("string"==typeof e)return'"'+e+'"';return e}(a)))})),E(a)?i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("code",null,"schema","{}")," ","{","...}"),i.a.createElement("td",null,i.a.createElement(w,null,i.a.createElement("div",{className:y.a.minWidthCode},i.a.createElement(R,{language:"json"},JSON.stringify(a,null,2)))))):null))}({parameters:a,suffix:function(e){return S(n).includes(e)?"path/":"GET"===t?"query?":null},schema:r}):i.a.createElement("p",{className:y.a.noParams},"This resource doesn't take any parameters :)")};function M(e){return null===e?null:i.a.createElement("code",{style:{marginRight:"3px"}},e)}var L=n(95),z=n.n(L),A=function(e){Object(o.a)(t,e);Object(r.a)(t);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.suffix=function(e){return S(this.props.url).includes(e)?"path/":"GET"===this.props.method?"query?":null},n.render=function(){var e=this.props,t=e.url,n=e.method,a=e.parameters,r=e.schema,o=e.pagination,l=e.requiresLogin;return i.a.createElement("div",{className:z.a.params},i.a.createElement("header",null,i.a.createElement(g,{color:this.badgeColor},n),i.a.createElement("span",{className:z.a.endpoint},t)),i.a.createElement(P,{method:n,url:t,parameters:a,schema:r}),i.a.createElement("div",{style:{display:"flex"}},l?i.a.createElement(g,{color:"#ffcccc"},i.a.createElement(h.a,{fontSize:"small"})," Requires Login"):null,o?i.a.createElement(g,{color:"#49cc90"},"+ Pagination"):null))},Object(a.a)(t,[{key:"badgeColor",get:function(){return{POST:"#49cc90",GET:"#61affe",PUT:"#fca130"}[this.props.method]}},{key:"placeholders",get:function(){return S(this.props.url)}}]),t}(i.a.Component);function U(e){var t=Object.entries(e).map((function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)}));return t.length?"?"+t.join("&"):""}n(159),n(160);function J(e){var t=e.method,n=x(e.url,e.parameters),a=n[0],r=n[1];return"GET"===t?function(e,t){return i.a.createElement(R,{language:"js"},'fetch("'+(e+U(t))+'", {\n  "method": "GET",\n  "headers": {\n    "Accept": "application/json",\n    "Content-type": "application/json"\n  }\n})')}(a,r):function(e,t,n){return i.a.createElement(R,{language:"js"},'fetch("'+t+'", {\n  "method": "'+e+'",\n  "headers": {\n    "Accept": "application/json",\n    "Content-type": "application/json"\n  },\n  "body": JSON.stringify('+(a=JSON.stringify(n,null,2),r=2,a.split("\n").map((function(e){return" ".repeat(r)+e})).join("\n").substr(r))+")\n})");var a,r}(t,a,r)}var H=function(e){Object(o.a)(t,e);Object(r.a)(t);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var e=this.props,t=e.method,n=x(e.url,e.parameters),a=n[0],r=n[1];return"GET"===t?this.codeMethodGet(a,r):this.code(t,a,r)},n.code=function(e,t,n){return i.a.createElement(R,{language:"bash"},"curl -X "+e+" "+t+' \\\n      -H "Accept: application/json" \\\n      -H "Content-Type: application/json" \\\n      -d \''+JSON.stringify(n)+"'")},n.codeMethodGet=function(e,t){return i.a.createElement(R,{language:"bash"},"curl -X GET "+(e+U(t))+' \\\n      -H "Accept: application/json" \\\n      -H "Content-Type: application/json"')},t}(i.a.Component),D=n(96),X=n.n(D),I=function(e){Object(o.a)(t,e);Object(r.a)(t);function t(t){var n;return(n=e.call(this,t)||this).state={env:"prod"},n}var n=t.prototype;return n.render=function(){return this.doRender({url:this.baseUrl+this.props.url,parameters:this.props.parameters||{},schema:this.props.schema||{},pagination:this.props.pagination,requiresLogin:this.props.requiresLogin})},n.doRender=function(e){var t=this,n=e.url,a=e.parameters,r=e.schema,o=e.pagination,l=e.requiresLogin;return i.a.createElement("div",null,i.a.createElement(c.a,{defaultValue:"params",values:[{label:"Params",value:"params"},{label:"fetch()",value:"fetch"},{label:"curl",value:"curl"}]},i.a.createElement(u.a,{value:"params"},i.a.createElement(A,{method:this.method,url:n,parameters:a,schema:r,pagination:o,requiresLogin:l})),i.a.createElement(u.a,{value:"fetch"},i.a.createElement(J,{method:this.method,url:n,parameters:Object.assign({},a,r)})),i.a.createElement(u.a,{value:"curl"},i.a.createElement(H,{method:this.method,url:n,parameters:Object.assign({},a,r)}))),i.a.createElement("div",{className:X.a.wrapper},i.a.createElement(m,{env:this.state.env,onChange:function(e){return t.setState({env:e})}})))},Object(a.a)(t,[{key:"method",get:function(){if(this.props.get)return"GET";if(this.props.post)return"POST";if(this.props.put)return"PUT";throw"Missing HTTP method"}},{key:"baseUrl",get:function(){return{prod:"https://api.4programmers.net/v1",dev:"https://api.4programmers.dev/v1",local:"http://localhost:8080/v1"}[this.state.env]}}]),t}(i.a.Component)}}]);